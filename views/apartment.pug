extends layout

block content
  h1= title
  - let items = results

  //- .container-fluid
  //-   .row
  //-     each attr, index in items
  //-       .col-sm-2(onclick=`buy(${index})`)
  //-         p Name: #{attr.Apartment_name}
  //-         p Location: #{attr.location}
  //-         p Rent: #{attr.rent}

  //- script.
  //-   function buy(index) {
  //-     alert('You purchased item ' + (index+1));
  //-   }
  div(class="container-fluid")
    div(class="row m-1")
      a.btn.btn-warning(href="/apartment/create") Create Apartment
      each item in items
        - let destination = `dispatch(\"/apartment/update?id=${item._id}\")`
        - let destination1 = `dispatch(\"/apartment/detail?id=${item._id}\")`
        - let destination2 = `dispatch(\"/apartment/delete?id=${item._id}\")`
        div(class="row-sm-2 m-1") Item #{item.Apartment_name}(#{item.location}) is #{item.rent}
        button.btn(class = "btn-primary ml-1", onclick=destination) Update
        button.btn(class = "btn-success ml-1", onclick=destination1) View Details
        button.btn(class = "btn-secondary ml-1", onclick=destination2) Delete Details
  script.
    function dispatch(path) {
      window.location.href = path;
    }